"use strict";(self.webpackChunkyellowcake=self.webpackChunkyellowcake||[]).push([[27],{9156:function(e,t,a){a.r(t),a.d(t,{BlogIndexTemplate:function(){return C},byCategory:function(){return v},byDate:function(){return E},default:function(){return N}});var r=a(6540),n=a(1693),l=a(5373),s=a.n(l),o=a(8599),c=a(5540),i=a(8007),m=a(4983);var u=e=>{let{featuredImage:t,title:a,excerpt:n,slug:l,categories:s=[],className:o="",...c}=e;return r.createElement(i.Link,{to:l,className:`PostCard ${o}`},t&&r.createElement("div",{className:"PostCard--Image relative"},r.createElement(m.A,{background:!0,src:t,alt:a})),r.createElement("div",{className:"PostCard--Content"},a&&r.createElement("h3",{className:"PostCard--Title"},a),r.createElement("div",{className:"PostCard--Category"},s&&s.map((e=>e.category)).join(", ")),n&&r.createElement("div",{className:"PostCard--Excerpt"},n)))};let p=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).state={limit:t.props.limit},t.increaseLimit=()=>t.setState((e=>({limit:e.limit+t.props.perPageLimit}))),t}return(0,c.A)(t,e),t.prototype.render=function(){const{posts:e,title:t,showLoadMore:a,loadMoreTitle:n}=this.props,{limit:l}=this.state,s=e.slice(0,l||e.length);return r.createElement("div",{className:"PostSection"},t&&r.createElement("h2",{className:"PostSection--Title"},t),!!s.length&&r.createElement("div",{className:"PostSection--Grid"},s.map(((e,t)=>r.createElement(u,Object.assign({key:e.title+t},e))))),a&&s.length<e.length&&r.createElement("div",{className:"taCenter"},r.createElement("button",{className:"button",onClick:this.increaseLimit},n)))},t}(r.Component);p.defaultProps={posts:[],title:"",limit:12,showLoadMore:!0,loadMoreTitle:"Load More",perPageLimit:12};var g=p,d=e=>{let{pageCount:t}=e;return r.createElement(n.Location,null,(e=>{let{location:t}=e,a=s().parse(t.search.replace("?",""));return r.createElement("input",{type:"text",value:a.s||"",placeholder:"Search...",onChange:e=>{let a={};a.s=e.target.value,a=s().stringify(a);const r=t.href.replace(t.origin,"").replace(t.search,"");(0,i.navigate)(`${r}?${a}`)}})}))};var h=e=>{let{categories:t,enableSearch:a}=e;return r.createElement("div",{className:"PostCategoriesNav"},r.createElement(i.Link,{className:"NavLink",exact:"true",to:"/blog/"},"All"),t.map(((e,t)=>r.createElement(i.Link,{exact:"true",className:"NavLink",key:e.title+t,to:e.slug},e.title))),a&&r.createElement(d,null))},f=a(5417);const E=e=>{const t=Date.now();return e.filter((e=>Date.parse(e.date)<=t))},v=(e,t,a)=>"postCategories"===a?e.filter((e=>e.categories&&e.categories.filter((e=>e.category===t)).length)):e,C=e=>{let{title:t,subtitle:a,featuredImage:l,posts:c=[],postCategories:i=[],enableSearch:m=!0,contentType:u}=e;return r.createElement(n.Location,null,(e=>{let{location:n}=e,p=c&&c.length?v(E(c),t,u):[],d=n.search.replace("?","");if(d=s().parse(d),m&&d.s){const e=d.s.toLowerCase();p=p.filter((t=>t.frontmatter.title.toLowerCase().includes(e)))}return r.createElement("main",{className:"Blog"},r.createElement(o.A,{title:t,subtitle:a,backgroundImage:l}),!!i.length&&r.createElement("section",{className:"section thin"},r.createElement("div",{className:"container"},r.createElement(h,{enableSearch:!0,categories:i}))),!!c.length&&r.createElement("section",{className:"section"},r.createElement("div",{className:"container"},r.createElement(g,{posts:p}))))}))};var N=e=>{let{data:{page:t,posts:a,postCategories:n}}=e;return r.createElement(f.A,{meta:t.frontmatter.meta||!1,title:t.frontmatter.title||!1},r.createElement(C,Object.assign({},t,t.fields,t.frontmatter,{posts:a.edges.map((e=>({...e.node,...e.node.frontmatter,...e.node.fields}))),postCategories:n.edges.map((e=>({...e.node,...e.node.frontmatter,...e.node.fields})))})))}}}]);
//# sourceMappingURL=component---src-templates-blog-index-js-f288ef7909975f9a4640.js.map